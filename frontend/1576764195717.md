# 常用套件

## js-cookie

### Reference

[js-cookie/js-cookie: A simple, lightweight JavaScript API for handling browser cookies](https://github.com/js-cookie/js-cookie)

[輕量級JS Cookie外掛js-cookie的使用方法 | 程式前沿](https://codertw.com/前端開發/204962/)

### Install

```
npm install js-cookie --save
```

### Basic Usage

> in vue.js

```
<script>

import Cookies2 from 'js-cookie'

Cookies2.set('myname','xinchin')
console.log(Cookies2.get('myname'))
export default {
  name: 'HelloWorld',
  
  data () {
    return {
      msg: 'Welcome to Your Vue.js App'
    }
  },
}

</script>
```

## popper.js

### Reference

[Popper.js](https://popper.js.org/)

[完全满足需求，轻量级 tooltips 提示插件：popper.js | 设计达人](http://www.shejidaren.com/popper-js.html)

https://github.com/popperjs/popper.js

https://www.youtube.com/watch?v=V1JOH4kS6Pc

### Install

```
npm install popper.js --save
```

### Basic Usage

```
<template>
    <div>
        <div class="my-button">reference</div>
        <div class="my-popper">popper</div>
    </div>
</template>
<script>
import Popper from 'popper.js';

export default {
    mounted(){
        var reference = document.querySelector(".my-button");
        var popper = document.querySelector(".my-popper");
        new Popper(reference, popper, {
            placement: 'right',
        });
    }
}
</script>
<style scoped>
   
    .my-button{
        display: block;
        position: absolute;
        left: 200px;
        background-color: antiquewhite;
        width: 100px;
        height: 100px;
    }
    .my-popper{
        position: absolute;
        display: block;
        background-color:burlywood;
        width: 100px;
        height: 100px;
        margin: 0 20px;
    }
</style>
```

## moment.js

### Reference
[Moment.js | Home](https://momentjs.com)

[moment.js - 關於時間的一切 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天](https://ithelp.ithome.com.tw/articles/10208995)


### Install

```
npm install moment --save
```


### Basic Usage

**Format Dates**

```
moment().format('MMMM Do YYYY, h:mm:ss a'); // December 18th 2019, 10:04:47 pm
moment().format('dddd');                    // Wednesday
moment().format("MMM Do YY");               // Dec 18th 19
moment().format('YYYY [escaped] YYYY');     // 2019 escaped 2019
moment().format();                          // 2019-12-18T22:04:47+08:000
```

**Relative Time**

```
moment("20111031", "YYYYMMDD").fromNow(); // 8 years ago
moment("20120620", "YYYYMMDD").fromNow(); // 7 years ago
moment().startOf('day').fromNow();        // a day ago
moment().endOf('day').fromNow();          // in 2 hours
moment().startOf('hour').fromNow();       // 5 minutes ago
```

**Calendar Time**

```
moment().subtract(10, 'days').calendar(); // 12/08/2019
moment().subtract(6, 'days').calendar();  // Last Thursday at 10:04 PM
moment().subtract(3, 'days').calendar();  // Last Sunday at 10:04 PM
moment().subtract(1, 'days').calendar();  // Yesterday at 10:04 PM
moment().calendar();                      // Today at 10:04 PM
moment().add(1, 'days').calendar();       // Tomorrow at 10:04 PM
moment().add(3, 'days').calendar();       // Saturday at 10:04 PM
moment().add(10, 'days').calendar();      // 12/28/2019
```

**Multiple Locale Support**

```
moment.locale();         // en
moment().format('LT');   // 10:03 PM
moment().format('LTS');  // 10:03:30 PM
moment().format('L');    // 12/18/2019
moment().format('l');    // 12/18/2019
moment().format('LL');   // December 18, 2019
moment().format('ll');   // Dec 18, 2019
moment().format('LLL');  // December 18, 2019 10:03 PM
moment().format('lll');  // Dec 18, 2019 10:03 PM
moment().format('LLLL'); // Wednesday, December 18, 2019 10:03 PM
moment().format('llll'); // Wed, Dec 18, 2019 10:03 PM
```


## localforage


```
localForage

改进的离线存储

// 通过 localStorage 设置值
localStorage.setItem('key', JSON.stringify('value'));
doSomethingElse();

// 通过 localForage 完成同样功能
localforage.setItem('key', 'value').then(doSomethingElse);

// localForage 同样支持回调函数
localforage.setItem('key', 'value', doSomethingElse);

localForage 是一个 JavaScript 库，通过简单类似 localStorage API 的异步存储来改进你的 Web 应用程序的离线体验。它能存储多种类型的数据，而不仅仅是字符串。

localForage 有一个优雅降级策略，若浏览器不支持 IndexedDB 或 WebSQL，则使用 localStorage。在所有主流浏览器中都可用：Chrome，Firefox，IE 和 Safari（包括 Safari Mobile）。

localForage 提供回调 API 同时也支持 ES6 Promises API，你可以自行选择。
```


### Reference

[localForage 中文文档](https://localforage.docschina.org/)

[localForage](https://localforage.github.io/localForage/)

[localforage - npm](https://www.npmjs.com/package/localforage)

[localForage](https://localforage.github.io/localForage/#data-api-setitem)

[突破本地离线存储5M限制的JS库localforage简介 « 张鑫旭-鑫空间-鑫生活](https://www.zhangxinxu.com/wordpress/2018/06/js-localforage-localstorage-indexdb/)

### Installation

```
npm install localforage
```

```
<script src="localforage.js"></script>
```

### Basic Usage in Vue/Nuxt

```
<template>
  <div>
    <h1>Index</h1>
        <p>{{ msg }}</p>
        <button @click="clickHandler">click</button>   
  </div>
</template>
<script>
import localforage from 'localforage'

export default {
    data(){
        return {
            msg: 'default'
        }
    },
    methods:{
        clickHandler(){
            localforage.getItem('somekey',null).then((value)=>{
                this.msg=value;
            });
        }
    },
    mounted(){
        localforage.setItem('somekey', 'some value').then((value)=>{
            // this.msg=value;
        }
        ).catch(function(err) {
            // This code runs if there were any errors
            console.log(err);
        });

    }
}
</script>
```

## sweetalert2

A beautiful, responsive, customizable, accessible (WAI-ARIA) replacement for JavaScript's popup boxes

一个漂亮的、响应式的、可定制的和可访问（WAI-ARIA）的JavaScript弹窗

### Reference

[SweetAlert2 - a beautiful, responsive, customizable and accessible (WAI-ARIA) replacement for JavaScript's popup boxes](https://sweetalert2.github.io/)

[SweetAlert2中文 —— 一个漂亮的、响应式的、可定制的和可访问（WAI-ARIA）的JavaScript弹窗](http://mishengqiang.com/sweetalert2/)

### Installation

```
npm install sweetalert2
```


### Basic Usage

```
<template>
  <div>
    <h1>demo::sweetalert2</h1>
    <button @click="clickHandler">Click</button>
  </div>
</template>

<script>
import { default as Swal } from "sweetalert2";

export default {
  methods: {
    clickHandler() {
      Swal.fire({
        title: "Submit your Github username",
        input: "text",
        inputAttributes: {
          autocapitalize: "off"
        },
        showCancelButton: true,
        confirmButtonText: "Look up",
        showLoaderOnConfirm: true,
        preConfirm: login => {
          return fetch(`//api.github.com/users/${login}`)
            .then(response => {
              if (!response.ok) {
                throw new Error(response.statusText);
              }
              return response.json();
            })
            .catch(error => {
              Swal.showValidationMessage(`Request failed: ${error}`);
            });
        },
        allowOutsideClick: () => !Swal.isLoading()
      }).then(result => {
        if (result.value) {
          Swal.fire({
            title: `${result.value.login}'s avatar`,
            imageUrl: result.value.avatar_url
          });
        }
      });
    }
  }
};
</script>
<style scoped></style>

```

## dotenv

什麼是 dotenv ?

dotenv 是將 .env 文件中的環境參數加載到 process.env。


### Reference

[API: The env Property - NuxtJS](https://nuxtjs.org/api/configuration-env/)

[Node.js 使用 .env 加上環境變數 - 《Chris 技術筆記》](https://dwatow.github.io/2019/01-26-node-with-env-first/)

[[Node.js打造API] 設定joi與config dotenv環境參數 — 1010Code](https://andy6804tw.github.io/2018/01/01/joi-config-dotenv/)

[Day27 存取env變數使用dotenv-儲存敏感資訊 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天](https://ithelp.ithome.com.tw/articles/10209126)

### Installation 

```
npm install dotenv
```


### Basic Usage in Nuxt.js

> nuxt.config.js

```
require('dotenv').config()
export default {
  mode: 'universal',

  env: {
    apiUrl: process.env.API_URL || 'http://localhost:9000/api',
    appName: process.env.APP_NAME || 'ARTCore',
    appLocale: process.env.APP_LOCALE || 'zh-TW',
    appDescription: '',
  },
}
```

> demo.vue

```
<template>
  <div>
    <h1>demo :: dotenv</h1>
    <p>{{ msg }}</p>
  </div>
</template>
<script>
export default {
  data() {
    return {
      msg: process.env.apiUrl
    };
  }
};
</script>
<style scoped></style>
```